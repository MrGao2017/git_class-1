<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
  <script type="text/javascript">
    var num = 2;
    var obj = {num:3};
    obj.fn = (function(num){
      // alert(this)
      this.num++;
      num+=2;
      
      var num = 5;
      // alert(num)
      return function(){
        // alert(this);
        this.num += 1;
        // alert(num)
        num+=1;
        console.log(num); //
      }
    })(obj.num);
    var f = obj.fn;
    f();//6

    obj.fn();//7
    
    //obj.num 4  window.num 4
    console.log(obj.num,window.num);
  </script>
  </body>
</html>